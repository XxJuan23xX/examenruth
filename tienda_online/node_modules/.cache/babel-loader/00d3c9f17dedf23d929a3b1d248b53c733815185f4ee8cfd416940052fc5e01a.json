{"ast":null,"code":"import React,{useEffect,useState,useContext}from'react';import axios from'axios';import Navbar from'../components/Navbar';import{CartContext}from'../components/CartContext';import'./ProductPage.css';import GatoImage from'../components/Gato2.png';// Importa la imagen\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductsPage=()=>{const[products,setProducts]=useState([]);const[filteredProducts,setFilteredProducts]=useState([]);const[showModal,setShowModal]=useState(false);// Estado para el modal\nconst[filter,setFilter]=useState('Todos');// Estado para el filtro\nconst{addToCart}=useContext(CartContext);useEffect(()=>{const fetchProducts=async()=>{try{const response=await axios.get('http://localhost:5000/api/products');console.log('Products:',response.data);setProducts(response.data);setFilteredProducts(response.data);// Inicialmente mostrar todos los productos\n}catch(error){console.error('Error fetching products:',error);}};fetchProducts();},[]);useEffect(()=>{if(filter==='Gatitos'){setFilteredProducts(products.filter(product=>product.Nombre.toLowerCase().includes('whiskas')));}else if(filter==='Perritos'){setFilteredProducts(products.filter(product=>product.Nombre.toLowerCase().includes('pedigree')));}else{setFilteredProducts(products);}},[filter,products]);const handleAddToCart=product=>{addToCart(product);setShowModal(true);setTimeout(()=>{setShowModal(false);},3000);// Oculta el modal después de 3 segundos\n};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"banner\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"banner-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"banner-text\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Nuevo producto que est\\xE1 a tu disposici\\xF3n\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Tu lo sabes, tu gato lo quiere.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\xBFQu\\xE9 esperas?\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"banner-image\",children:/*#__PURE__*/_jsx(\"img\",{src:GatoImage,alt:\"Producto destacado\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"filters\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilter('Todos'),children:\"Todos\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilter('Gatitos'),children:\"Gatitos\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFilter('Perritos'),children:\"Perritos\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"productos-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Los mejores productos para tus animales!\"}),showModal&&/*#__PURE__*/_jsx(\"div\",{className:\"confirmation-modal\",children:\"El producto se ha agregado correctamente al carrito\"}),/*#__PURE__*/_jsx(\"div\",{className:\"productos-grid\",children:filteredProducts.map(product=>/*#__PURE__*/_jsxs(\"div\",{className:\"product-card1\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.Imagen,alt:product.Nombre}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:product.Nombre}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-price\",children:[\"$\",product.Precio]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"product-description\",children:product.Descripcion}),/*#__PURE__*/_jsxs(\"p\",{className:\"product-stock\",children:[\"Existencias: \",product.Stock]}),/*#__PURE__*/_jsx(\"button\",{className:\"add-to-cart\",onClick:()=>handleAddToCart(product),children:\"Agregar al carrito\"})]})]},product.ProductoID))})]})]})]});};export default ProductsPage;","map":{"version":3,"names":["React","useEffect","useState","useContext","axios","Navbar","CartContext","GatoImage","jsx","_jsx","jsxs","_jsxs","ProductsPage","products","setProducts","filteredProducts","setFilteredProducts","showModal","setShowModal","filter","setFilter","addToCart","fetchProducts","response","get","console","log","data","error","product","Nombre","toLowerCase","includes","handleAddToCart","setTimeout","children","className","src","alt","onClick","map","Imagen","Precio","Descripcion","Stock","ProductoID"],"sources":["C:/Users/manue/OneDrive/Documentos/TAREITAS/web_store-main/tienda_online/src/pages/ProductPage.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport axios from 'axios';\nimport Navbar from '../components/Navbar';\nimport { CartContext } from '../components/CartContext';\nimport './ProductPage.css';\n\nimport GatoImage from '../components/Gato2.png'; // Importa la imagen\n\nconst ProductsPage = () => {\n    const [products, setProducts] = useState([]);\n    const [filteredProducts, setFilteredProducts] = useState([]);\n    const [showModal, setShowModal] = useState(false); // Estado para el modal\n    const [filter, setFilter] = useState('Todos'); // Estado para el filtro\n    const { addToCart } = useContext(CartContext);\n\n    useEffect(() => {\n        const fetchProducts = async () => {\n            try {\n                const response = await axios.get('http://localhost:5000/api/products');\n                console.log('Products:', response.data);\n                setProducts(response.data);\n                setFilteredProducts(response.data); // Inicialmente mostrar todos los productos\n            } catch (error) {\n                console.error('Error fetching products:', error);\n            }\n        };\n        fetchProducts();\n    }, []);\n\n    useEffect(() => {\n        if (filter === 'Gatitos') {\n            setFilteredProducts(products.filter(product => product.Nombre.toLowerCase().includes('whiskas')));\n        } else if (filter === 'Perritos') {\n            setFilteredProducts(products.filter(product => product.Nombre.toLowerCase().includes('pedigree')));\n        } else {\n            setFilteredProducts(products);\n        }\n    }, [filter, products]);\n\n    const handleAddToCart = (product) => {\n        addToCart(product);\n        setShowModal(true);\n        setTimeout(() => {\n            setShowModal(false);\n        }, 3000); // Oculta el modal después de 3 segundos\n    };\n\n    return (\n        <div>\n            <Navbar />\n            <div className=\"product-page\">\n                <div className=\"banner\">\n                    <div className=\"banner-content\">\n                        <div className=\"banner-text\">\n                            <h1>Nuevo producto que está a tu disposición</h1>\n                            <p>Tu lo sabes, tu gato lo quiere.</p>\n                            <p>¿Qué esperas?</p>\n                            \n                        </div>\n                        <div className=\"banner-image\">\n                            <img src={GatoImage} alt=\"Producto destacado\" />\n                        </div>\n                    </div>\n                </div>\n                <div className=\"filters\">\n                    <button onClick={() => setFilter('Todos')}>Todos</button>\n                    <button onClick={() => setFilter('Gatitos')}>Gatitos</button>\n                    <button onClick={() => setFilter('Perritos')}>Perritos</button>\n                </div>\n                <div className=\"productos-container\">\n                    <h2>Los mejores productos para tus animales!</h2>\n                    {showModal && <div className=\"confirmation-modal\">El producto se ha agregado correctamente al carrito</div>}\n                    <div className=\"productos-grid\">\n                        {filteredProducts.map((product) => (\n                            <div className=\"product-card1\" key={product.ProductoID}>\n                                <img src={product.Imagen} alt={product.Nombre} />\n                                <div className=\"product-info\">\n                                    <div className=\"product-header\">\n                                        <h3>{product.Nombre}</h3>\n                                        <p className=\"product-price\">${product.Precio}</p>\n                                    </div>\n                                    <p className=\"product-description\">{product.Descripcion}</p>\n                                    <p className=\"product-stock\">Existencias: {product.Stock}</p>\n                                    <button className=\"add-to-cart\" onClick={() => handleAddToCart(product)}>Agregar al carrito</button>\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ProductsPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}