{"ast":null,"code":"import React,{createContext,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const CartContext=/*#__PURE__*/createContext();const CartProvider=_ref=>{let{children}=_ref;const[cart,setCart]=useState([]);const[total,setTotal]=useState(0);const addToCart=product=>{setCart([...cart,{...product,Cantidad:1}]);updateTotal([...cart,{...product,Cantidad:1}]);};const removeFromCart=index=>{const newCart=cart.filter((_,i)=>i!==index);setCart(newCart);updateTotal(newCart);};const clearCart=()=>{setCart([]);setTotal(0);};const updateQuantity=(index,newQuantity)=>{if(newQuantity<1){removeFromCart(index);return;}const newCart=cart.map((item,i)=>i===index?{...item,Cantidad:newQuantity}:item);setCart(newCart);updateTotal(newCart);};const updateTotal=newCart=>{const newTotal=newCart.reduce((acc,item)=>acc+item.Precio*item.Cantidad,0);setTotal(newTotal);};return/*#__PURE__*/_jsx(CartContext.Provider,{value:{cart,total,addToCart,removeFromCart,clearCart,updateQuantity},children:children});};export{CartProvider,CartContext};","map":{"version":3,"names":["React","createContext","useState","jsx","_jsx","CartContext","CartProvider","_ref","children","cart","setCart","total","setTotal","addToCart","product","Cantidad","updateTotal","removeFromCart","index","newCart","filter","_","i","clearCart","updateQuantity","newQuantity","map","item","newTotal","reduce","acc","Precio","Provider","value"],"sources":["C:/Users/manue/OneDrive/Documentos/TAREITAS/web_store-main/tienda_online/src/components/CartContext.js"],"sourcesContent":["import React, { createContext, useState } from 'react';\n\nconst CartContext = createContext();\n\nconst CartProvider = ({ children }) => {\n    const [cart, setCart] = useState([]);\n    const [total, setTotal] = useState(0);\n\n    const addToCart = (product) => {\n        setCart([...cart, { ...product, Cantidad: 1 }]);\n        updateTotal([...cart, { ...product, Cantidad: 1 }]);\n    };\n\n    const removeFromCart = (index) => {\n        const newCart = cart.filter((_, i) => i !== index);\n        setCart(newCart);\n        updateTotal(newCart);\n    };\n\n    const clearCart = () => {\n        setCart([]);\n        setTotal(0);\n    };\n\n    const updateQuantity = (index, newQuantity) => {\n        if (newQuantity < 1) {\n            removeFromCart(index);\n            return;\n        }\n        const newCart = cart.map((item, i) =>\n            i === index ? { ...item, Cantidad: newQuantity } : item\n        );\n        setCart(newCart);\n        updateTotal(newCart);\n    };\n\n    const updateTotal = (newCart) => {\n        const newTotal = newCart.reduce((acc, item) => acc + item.Precio * item.Cantidad, 0);\n        setTotal(newTotal);\n    };\n\n    return (\n        <CartContext.Provider value={{ cart, total, addToCart, removeFromCart, clearCart, updateQuantity }}>\n            {children}\n        </CartContext.Provider>\n    );\n};\n\nexport { CartProvider, CartContext };\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEvD,KAAM,CAAAC,WAAW,cAAGJ,aAAa,CAAC,CAAC,CAEnC,KAAM,CAAAK,YAAY,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC9B,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACS,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,CAAC,CAAC,CAErC,KAAM,CAAAW,SAAS,CAAIC,OAAO,EAAK,CAC3BJ,OAAO,CAAC,CAAC,GAAGD,IAAI,CAAE,CAAE,GAAGK,OAAO,CAAEC,QAAQ,CAAE,CAAE,CAAC,CAAC,CAAC,CAC/CC,WAAW,CAAC,CAAC,GAAGP,IAAI,CAAE,CAAE,GAAGK,OAAO,CAAEC,QAAQ,CAAE,CAAE,CAAC,CAAC,CAAC,CACvD,CAAC,CAED,KAAM,CAAAE,cAAc,CAAIC,KAAK,EAAK,CAC9B,KAAM,CAAAC,OAAO,CAAGV,IAAI,CAACW,MAAM,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKA,CAAC,GAAKJ,KAAK,CAAC,CAClDR,OAAO,CAACS,OAAO,CAAC,CAChBH,WAAW,CAACG,OAAO,CAAC,CACxB,CAAC,CAED,KAAM,CAAAI,SAAS,CAAGA,CAAA,GAAM,CACpBb,OAAO,CAAC,EAAE,CAAC,CACXE,QAAQ,CAAC,CAAC,CAAC,CACf,CAAC,CAED,KAAM,CAAAY,cAAc,CAAGA,CAACN,KAAK,CAAEO,WAAW,GAAK,CAC3C,GAAIA,WAAW,CAAG,CAAC,CAAE,CACjBR,cAAc,CAACC,KAAK,CAAC,CACrB,OACJ,CACA,KAAM,CAAAC,OAAO,CAAGV,IAAI,CAACiB,GAAG,CAAC,CAACC,IAAI,CAAEL,CAAC,GAC7BA,CAAC,GAAKJ,KAAK,CAAG,CAAE,GAAGS,IAAI,CAAEZ,QAAQ,CAAEU,WAAY,CAAC,CAAGE,IACvD,CAAC,CACDjB,OAAO,CAACS,OAAO,CAAC,CAChBH,WAAW,CAACG,OAAO,CAAC,CACxB,CAAC,CAED,KAAM,CAAAH,WAAW,CAAIG,OAAO,EAAK,CAC7B,KAAM,CAAAS,QAAQ,CAAGT,OAAO,CAACU,MAAM,CAAC,CAACC,GAAG,CAAEH,IAAI,GAAKG,GAAG,CAAGH,IAAI,CAACI,MAAM,CAAGJ,IAAI,CAACZ,QAAQ,CAAE,CAAC,CAAC,CACpFH,QAAQ,CAACgB,QAAQ,CAAC,CACtB,CAAC,CAED,mBACIxB,IAAA,CAACC,WAAW,CAAC2B,QAAQ,EAACC,KAAK,CAAE,CAAExB,IAAI,CAAEE,KAAK,CAAEE,SAAS,CAAEI,cAAc,CAAEM,SAAS,CAAEC,cAAe,CAAE,CAAAhB,QAAA,CAC9FA,QAAQ,CACS,CAAC,CAE/B,CAAC,CAED,OAASF,YAAY,CAAED,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}