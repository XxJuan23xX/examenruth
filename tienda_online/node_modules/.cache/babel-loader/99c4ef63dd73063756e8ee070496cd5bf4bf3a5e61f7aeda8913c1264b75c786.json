{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import Navbar from'../components/Navbar';import'./OrderHistoryPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OrderHistoryPage=()=>{const[orders,setOrders]=useState([]);const fetchOrders=async()=>{try{const token=localStorage.getItem('token');const response=await axios.get('http://localhost:5000/api/orders/history',{headers:{Authorization:\"Bearer \".concat(token)}});setOrders(response.data);}catch(error){console.error('Error fetching order history:',error);}};useEffect(()=>{fetchOrders();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-history-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"order-history-title\",children:\"Historial de Compras\"}),/*#__PURE__*/_jsx(\"div\",{className:\"order-history\",children:orders.map(order=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"order-card\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Order ID: \",/*#__PURE__*/_jsx(\"span\",{children:order.PedidoID})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Fecha: \",/*#__PURE__*/_jsx(\"span\",{children:order.FechaPedido})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total: \",/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",order.Total]})]}),/*#__PURE__*/_jsx(\"h4\",{children:\"Products:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"product-lista\",children:order.detalles.map(detail=>/*#__PURE__*/_jsxs(\"li\",{className:\"product-item\",children:[/*#__PURE__*/_jsx(\"img\",{src:detail.Imagen,alt:detail.NombreProducto}),/*#__PURE__*/_jsx(\"span\",{children:detail.NombreProducto}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",detail.PrecioUnitario]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"x \",detail.Cantidad]})]},detail.ProductoID))})]},order.PedidoID);})})]})]});};export default OrderHistoryPage;","map":{"version":3,"names":["React","useEffect","useState","axios","Navbar","jsx","_jsx","jsxs","_jsxs","OrderHistoryPage","orders","setOrders","fetchOrders","token","localStorage","getItem","response","get","headers","Authorization","concat","data","error","console","children","className","map","order","PedidoID","FechaPedido","Total","detalles","detail","src","Imagen","alt","NombreProducto","PrecioUnitario","Cantidad","ProductoID"],"sources":["C:/Users/manue/OneDrive/Documentos/TAREITAS/web_store-main/tienda_online/src/pages/OrderHistoryPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Navbar from '../components/Navbar';\nimport './OrderHistoryPage.css';\n\nconst OrderHistoryPage = () => {\n    const [orders, setOrders] = useState([]);\n\n    const fetchOrders = async () => {\n        try {\n            const token = localStorage.getItem('token');\n            const response = await axios.get('http://localhost:5000/api/orders/history', {\n                headers: {\n                    Authorization: `Bearer ${token}`\n                }\n            });\n            setOrders(response.data);\n        } catch (error) {\n            console.error('Error fetching order history:', error);\n        }\n    };\n\n    useEffect(() => {\n        fetchOrders();\n    }, []);\n\n    return (\n        <div>\n            <Navbar />\n            <div className=\"order-history-container\">\n                <h2 className=\"order-history-title\">Historial de Compras</h2>\n                <div className=\"order-history\">\n                    {orders.map(order => {\n                        \n                        return (\n                            <div key={order.PedidoID} className=\"order-card\">\n                                <h3>Order ID: <span>{order.PedidoID}</span></h3>\n                                <p>Fecha: <span>{order.FechaPedido}</span></p>\n                                <p>Total: <span>${order.Total}</span></p>\n                                \n                                <h4>Products:</h4>\n                                <ul className=\"product-lista\">\n                                    {order.detalles.map(detail => (\n                                        <li key={detail.ProductoID} className=\"product-item\">\n                                            <img src={detail.Imagen} alt={detail.NombreProducto} />\n                                            <span>{detail.NombreProducto}</span>\n                                            <span>${detail.PrecioUnitario}</span>\n                                            <span>x {detail.Cantidad}</span>\n                                        </li>\n                                    ))}\n                                </ul>\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default OrderHistoryPage;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhC,KAAM,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAExC,KAAM,CAAAU,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACA,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAb,KAAK,CAACc,GAAG,CAAC,0CAA0C,CAAE,CACzEC,OAAO,CAAE,CACLC,aAAa,WAAAC,MAAA,CAAYP,KAAK,CAClC,CACJ,CAAC,CAAC,CACFF,SAAS,CAACK,QAAQ,CAACK,IAAI,CAAC,CAC5B,CAAE,MAAOC,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAAC,CACzD,CACJ,CAAC,CAEDrB,SAAS,CAAC,IAAM,CACZW,WAAW,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACIJ,KAAA,QAAAgB,QAAA,eACIlB,IAAA,CAACF,MAAM,GAAE,CAAC,cACVI,KAAA,QAAKiB,SAAS,CAAC,yBAAyB,CAAAD,QAAA,eACpClB,IAAA,OAAImB,SAAS,CAAC,qBAAqB,CAAAD,QAAA,CAAC,sBAAoB,CAAI,CAAC,cAC7DlB,IAAA,QAAKmB,SAAS,CAAC,eAAe,CAAAD,QAAA,CACzBd,MAAM,CAACgB,GAAG,CAACC,KAAK,EAAI,CAEjB,mBACInB,KAAA,QAA0BiB,SAAS,CAAC,YAAY,CAAAD,QAAA,eAC5ChB,KAAA,OAAAgB,QAAA,EAAI,YAAU,cAAAlB,IAAA,SAAAkB,QAAA,CAAOG,KAAK,CAACC,QAAQ,CAAO,CAAC,EAAI,CAAC,cAChDpB,KAAA,MAAAgB,QAAA,EAAG,SAAO,cAAAlB,IAAA,SAAAkB,QAAA,CAAOG,KAAK,CAACE,WAAW,CAAO,CAAC,EAAG,CAAC,cAC9CrB,KAAA,MAAAgB,QAAA,EAAG,SAAO,cAAAhB,KAAA,SAAAgB,QAAA,EAAM,GAAC,CAACG,KAAK,CAACG,KAAK,EAAO,CAAC,EAAG,CAAC,cAEzCxB,IAAA,OAAAkB,QAAA,CAAI,WAAS,CAAI,CAAC,cAClBlB,IAAA,OAAImB,SAAS,CAAC,eAAe,CAAAD,QAAA,CACxBG,KAAK,CAACI,QAAQ,CAACL,GAAG,CAACM,MAAM,eACtBxB,KAAA,OAA4BiB,SAAS,CAAC,cAAc,CAAAD,QAAA,eAChDlB,IAAA,QAAK2B,GAAG,CAAED,MAAM,CAACE,MAAO,CAACC,GAAG,CAAEH,MAAM,CAACI,cAAe,CAAE,CAAC,cACvD9B,IAAA,SAAAkB,QAAA,CAAOQ,MAAM,CAACI,cAAc,CAAO,CAAC,cACpC5B,KAAA,SAAAgB,QAAA,EAAM,GAAC,CAACQ,MAAM,CAACK,cAAc,EAAO,CAAC,cACrC7B,KAAA,SAAAgB,QAAA,EAAM,IAAE,CAACQ,MAAM,CAACM,QAAQ,EAAO,CAAC,GAJ3BN,MAAM,CAACO,UAKZ,CACP,CAAC,CACF,CAAC,GAfCZ,KAAK,CAACC,QAgBX,CAAC,CAEd,CAAC,CAAC,CACD,CAAC,EACL,CAAC,EACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAAnB,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}