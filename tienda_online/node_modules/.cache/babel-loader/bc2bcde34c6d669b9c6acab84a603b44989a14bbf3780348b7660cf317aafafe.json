{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{Link}from'react-router-dom';import'./AdminOrdersPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminOrdersPage=()=>{const[orders,setOrders]=useState([]);const[selectedOrder,setSelectedOrder]=useState(null);useEffect(()=>{const fetchOrders=async()=>{try{const token=localStorage.getItem('token');const response=await axios.get('http://localhost:5000/api/admin/orders',{headers:{Authorization:\"Bearer \".concat(token)}});setOrders(response.data);}catch(error){console.error('Error fetching orders:',error);}};fetchOrders();},[]);const handleViewProducts=order=>{setSelectedOrder(order);};const handleCloseModal=()=>{setSelectedOrder(null);};return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-orders-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"orders-sidebar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"orders-sidebar-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"PetStore\"})})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"orders-sidebar-menu\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/products\",children:\"Productos\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/admin\",children:\"Admin Panel\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/admin/orders\",children:\"Order Management\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/logout\",className:\"orders-logout-button\",children:\"Cerrar Sesi\\xF3n\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"orders-admin-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Order Management\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"orders-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID Pedido\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ID Cliente\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Fecha\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(order=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:order.PedidoID}),/*#__PURE__*/_jsx(\"td\",{children:order.ClienteID}),/*#__PURE__*/_jsx(\"td\",{children:new Date(order.FechaPedido).toLocaleString()}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",order.Total]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleViewProducts(order),children:\"Productos\"})})]},order.PedidoID))})]})]}),selectedOrder&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Productos del Pedido \",selectedOrder.PedidoID]}),/*#__PURE__*/_jsx(\"div\",{className:\"products-container\",children:selectedOrder.productos.map(product=>/*#__PURE__*/_jsxs(\"div\",{className:\"product-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.Imagen,alt:product.Nombre,className:\"product-image\"}),/*#__PURE__*/_jsx(\"p\",{children:product.Nombre}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Precio: $\",product.Precio]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Cantidad: \",product.Cantidad]})]},product.ProductoID))}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCloseModal,children:\"Regresar\"})]})})]});};export default AdminOrdersPage;","map":{"version":3,"names":["React","useEffect","useState","axios","Link","jsx","_jsx","jsxs","_jsxs","AdminOrdersPage","orders","setOrders","selectedOrder","setSelectedOrder","fetchOrders","token","localStorage","getItem","response","get","headers","Authorization","concat","data","error","console","handleViewProducts","order","handleCloseModal","className","children","to","map","PedidoID","ClienteID","Date","FechaPedido","toLocaleString","Total","onClick","productos","product","src","Imagen","alt","Nombre","Precio","Cantidad","ProductoID"],"sources":["C:/Users/manue/OneDrive/Documentos/TAREITAS/web_store-main/tienda_online/src/pages/AdminOrdersPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport './AdminOrdersPage.css';\n\nconst AdminOrdersPage = () => {\n    const [orders, setOrders] = useState([]);\n    const [selectedOrder, setSelectedOrder] = useState(null);\n\n    useEffect(() => {\n        const fetchOrders = async () => {\n            try {\n                const token = localStorage.getItem('token');\n                const response = await axios.get('http://localhost:5000/api/admin/orders', {\n                    headers: { Authorization: `Bearer ${token}` }\n                });\n                setOrders(response.data);\n            } catch (error) {\n                console.error('Error fetching orders:', error);\n            }\n        };\n\n        fetchOrders();\n    }, []);\n\n    const handleViewProducts = (order) => {\n        setSelectedOrder(order);\n    };\n\n    const handleCloseModal = () => {\n        setSelectedOrder(null);\n    };\n\n    return (\n        <div className=\"admin-orders-page\">\n            <div className=\"orders-sidebar\">\n                <div className=\"orders-sidebar-header\">\n                    <h2><Link to=\"/\">PetStore</Link></h2>\n                </div>\n                <ul className=\"orders-sidebar-menu\">\n                    <li><Link to=\"/products\">Productos</Link></li>\n                    <li><Link to=\"/admin\">Admin Panel</Link></li>\n                    <li><Link to=\"/admin/orders\">Order Management</Link></li>\n                    <li><Link to=\"/logout\" className=\"orders-logout-button\">Cerrar Sesi√≥n</Link></li>\n                </ul>\n            </div>\n            <div className=\"orders-admin-content\">\n                <h2>Order Management</h2>\n                <table className=\"orders-table\">\n                    <thead>\n                        <tr>\n                            <th>ID Pedido</th>\n                            <th>ID Cliente</th>\n                            <th>Fecha</th>\n                            <th>Total</th>\n                            <th>Acciones</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {orders.map(order => (\n                            <tr key={order.PedidoID}>\n                                <td>{order.PedidoID}</td>\n                                <td>{order.ClienteID}</td>\n                                <td>{new Date(order.FechaPedido).toLocaleString()}</td>\n                                <td>${order.Total}</td>\n                                <td>\n                                    <button onClick={() => handleViewProducts(order)}>Productos</button>\n                                </td>\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            </div>\n\n            {selectedOrder && (\n                <div className=\"modal-overlay\">\n                    <div className=\"modal-content\">\n                        <h3>Productos del Pedido {selectedOrder.PedidoID}</h3>\n                        <div className=\"products-container\">\n                            {selectedOrder.productos.map(product => (\n                                <div key={product.ProductoID} className=\"product-card\">\n                                    <img src={product.Imagen} alt={product.Nombre} className=\"product-image\" />\n                                    <p>{product.Nombre}</p>\n                                    <p>Precio: ${product.Precio}</p>\n                                    <p>Cantidad: {product.Cantidad}</p>\n                                </div>\n                            ))}\n                        </div>\n                        <button onClick={handleCloseModal}>Regresar</button>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AdminOrdersPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}